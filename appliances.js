let productData = [
  {
    image:
      "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6493/6493491_sd.jpg;maxHeight=200;maxWidth=300",
    name: "Samsung - Bespoke 29 cu. ft 4-Door French Door Refrigerator with Beverage Center - Stainless steel",
    price: "2,599.99",
    model: "Samsung",
    id: 20221,
  },
  {
    image:
      "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/5838/5838109_sd.jpg;maxHeight=200;maxWidth=300",
    name: "Insignia™ - 18.1 Cu. Ft. Top-Freezer Refrigerator - White",
    price: "479.99",
    model: "Insignia",
    id: 20222,
  },

  {
    image:
      "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6416/6416175_sd.jpg;maxHeight=200;maxWidth=300",
    name: "Samsung - 4.5 Cu. Ft. High Efficiency Top Load Washer with Vibration Reduction Technology+ - White",
    price: "579.99",
    model: "Samsung",
    id: 20223,
  },
  {
    image:
      "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/5161/5161200_sd.jpg;maxHeight=200;maxWidth=300",
    name: "Insignia™ - 18 Cu. Ft. Top-Freezer Refrigerator - Stainless steel",
    price: "579.99",
    model: "Insignia",
    id: 20224,
  },
  {
    image:
      "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6237/6237753_sd.jpg;maxHeight=200;maxWidth=300",
    name: "GE - 1.6 Cu. Ft. Microwave with Sensor Cooking - Stainless steel",
    price: "159.99",
    model: "GE",
    id: 20225,
  },
  {
    image:
      "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6322/6322982_sd.jpg;maxHeight=200;maxWidth=300",
    name: "Samsung - 5.0 Cu. Ft. High Efficiency Top Load Washer with Active WaterJet - White",
    price: "649.99",
    model: "Samsung",
    id: 20226,
  },
  {
    image:
      "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6321/6321755_sd.jpg;maxHeight=200;maxWidth=300",
    name: "LG - 5.0 Cu. Ft. High-Efficiency Smart Top-Load Washer with TurboWash3D Technology - White",
    price: "779.99",
    model: "LG",
    id: 20227,
  },
  {
    image:
      "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6415/6415795_sd.jpg;maxHeight=200;maxWidth=300",
    name: "Samsung - 7.2 Cu. Ft. Electric Dryer with 8 Cycles and Sensor Dry - White",
    price: "579.99",
    model: "Samsung",
    id: 20228,
  },
  {
    image:
      "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6321/6321755_sd.jpg;maxHeight=200;maxWidth=300",
    name: "LG - 5.0 Cu. Ft. High-Efficiency Smart Top-Load Washer with TurboWash3D Technology - White",
    price: "779.99",
    model: "LG",
    id: 20229,
  },
  {
    image:
      "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6415/6415795_sd.jpg;maxHeight=200;maxWidth=300",
    name: "Samsung - 7.2 Cu. Ft. Electric Dryer with 8 Cycles and Sensor Dry - White",
    price: "579.99",
    model: "Samsung",
    id: 202210,
  },
  {
    image:
      "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6321/6321755_sd.jpg;maxHeight=200;maxWidth=300",
    name: "LG - 5.0 Cu. Ft. High-Efficiency Smart Top-Load Washer with TurboWash3D Technology - White",
    price: "779.99",
    model: "LG",
    id: 202211,
  },
  {
    image:
      "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/5161/5161200_sd.jpg;maxHeight=200;maxWidth=300",
    name: "Insignia™ - 18 Cu. Ft. Top-Freezer Refrigerator - Stainless steel",
    price: "579.99",
    model: "Insignia",
    id: 202212,
  },
  {
    image:
      "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6237/6237753_sd.jpg;maxHeight=200;maxWidth=300",
    name: "GE - 1.6 Cu. Ft. Microwave with Sensor Cooking - Stainless steel",
    price: "159.99",
    model: "GE",
    id: 202213,
  },
  {
    image:
      "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6322/6322982_sd.jpg;maxHeight=200;maxWidth=300",
    name: "Samsung - 5.0 Cu. Ft. High Efficiency Top Load Washer with Active WaterJet - White",
    price: "649.99",
    model: "Samsung",
    id: 202214,
  },
  {
    image:
      "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/5161/5161200_sd.jpg;maxHeight=200;maxWidth=300",
    name: "Insignia™ - 18 Cu. Ft. Top-Freezer Refrigerator - Stainless steel",
    price: "579.99",
    model: "Insignia",
    id: 202215,
  },
  {
    image:
      "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6237/6237753_sd.jpg;maxHeight=200;maxWidth=300",
    name: "GE - 1.6 Cu. Ft. Microwave with Sensor Cooking - Stainless steel",
    price: "159.99",
    model: "GE",
    id: 202216,
  },
  {
    image:
      "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6322/6322982_sd.jpg;maxHeight=200;maxWidth=300",
    name: "Samsung - 5.0 Cu. Ft. High Efficiency Top Load Washer with Active WaterJet - White",
    price: "649.99",
    model: "Samsung",
    id: 202217,
  },
  {
    image:
      "https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6321/6321755_sd.jpg;maxHeight=200;maxWidth=300",
    name: "LG - 5.0 Cu. Ft. High-Efficiency Smart Top-Load Washer with TurboWash3D Technology - White",
    price: "779.99",
    model: "LG",
    id: 202218,
  },
];

//sort by section start
let sortby = document.getElementById("sort");
sortby.addEventListener("change", function () {
  if (sortby.value == "A to Z") {
    console.log("Hello");
    let filtered = productData.sort(function (a, b) {
      if (a.model < b.model) {
        return -1;
      }
      if (a.model > b.model) {
        return 1;
      }
      return 0;
    });
    displayItems(filtered);
  }
});
// sort by section end

displayItems(productData);

// this is a function which dynamically takes input from productData array

let cart_page = JSON.parse(localStorage.getItem("cart_page")) || [];

function displayItems(productData) {
  productData.forEach(function (element) {
    let pImage = document.createElement("img");
    pImage.setAttribute("class", "pImage");
    pImage.src = element.image;
    let pName = document.createElement("p");
    pName.setAttribute("class", "pName");
    pName.innerText = element.name;
    let pCost = document.createElement("h1");
    pCost.setAttribute("class", "pCost");
    pCost.innerText = "$" + element.price;
    let pModel = document.createElement("p");
    pModel.setAttribute("class", "pModel");
    pModel.innerText = element.model;
    let pContent = document.createElement("img");
    pContent.setAttribute("class", "pContent");
    pContent.src = "/rating.png";
    let pAvail = document.createElement("p");
    pAvail.setAttribute("class", "pAvail");
    pAvail.innerText = "No rebates available in 96939";

    let item_image = document.createElement("div");
    item_image.setAttribute("class", "item_image");
    item_image.append(pImage);

    let item_details = document.createElement("div");
    item_details.setAttribute("class", "item_details");
    item_details.append(pName, pModel, pContent);

    // cart
    let pCart = document.createElement("button");
    let cLogo = document.createElement("img");
    cLogo.src = "/trolly.png";

    let text = document.createElement("p");
    text.innerText = "Add to Cart";
    pCart.setAttribute("class", "pCart");
    pCart.addEventListener("click", function () {
      if (addtoCartFunction(element.id)) {
        cart_page.push(element);
        localStorage.setItem("cart_page", JSON.stringify(cart_page));
      }
    });

    let pId = document.createElement("p");
    pId.innerText = element.id;
    pId.setAttribute("class", "id");
    pCart.append(cLogo, text);

    let item_cost = document.createElement("div");
    item_cost.setAttribute("class", "item_cost");
    item_cost.append(pCost, pAvail, pCart, pId);

    let rowdiv = document.createElement("div");
    rowdiv.setAttribute("class", "rowdiv");
    rowdiv.append(item_image, item_details, item_cost);
    let item = document.createElement("li");
    item.setAttribute("class", "item");
    item.append(rowdiv);
    document.querySelector(".item-list").append(item);
  });
}

let slide_1 = document.getElementById("slide-1");
let slide_2 = document.getElementById("slide-2");
slide_1.addEventListener("click", slider);
slide_2.addEventListener("click", sliderTwo);

let slide_img = ["/slider1.png", "/slider2.png", "/slider3.png"];

let img = document.getElementById("productSlide");
let count = 0;
function slider() {
  if (count === 0) {
    count = slide_img.length - 1;
  } else {
    count--;
  }
  img.src = slide_img[count];
  console.log(count);
}
function sliderTwo() {
  if (count == slide_img.length - 1) {
    count = 0;
  } else {
    count++;
  }
  img.src = slide_img[count];
  console.log(count);
}
function addtoCartFunction(id) {
  let check = cart_page.filter(function (element) {
    return id == element.id;
  });
  if (check.length > 0) {
    return false;
  } else {
    return true;
  }
}
