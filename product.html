<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product</title>
    <style>
        * {
            margin: 0px;
            padding: 0px;
            box-sizing: border-box;
        }

        #products {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: auto;
            gap: 10px 20px;
        }

        #products>div>img {
            width: 50%;

        }
    </style>
</head>

<body>
    <a href="cartpage.html">Go to cart</a>
    <div id="products"></div>
</body>

</html>
<script>
    let produdata = [
        {
            quantity: 1,
            brand: "Puma",
            name: "selena floral FileList",
            price: 2000,
            size: "X,XX,XXL",
            productID: "women1",
            catagory: "Casual",
            img: "https://adn-static1.nykaa.com/nykdesignstudio-images/tr:w-550,/pub/media/catalog/product/t/w/twentydressesmix_dr0935_1_984da863.jpg?rnd=20200526195200",
        },
        {
            quantity: 1,
            brand: "Gap",
            name: "balck bella",
            price: 1347,
            size: "X,M,L,XX,XXL",
            productID: "women2",
            catagory: "festive",
            img: "https://adn-static1.nykaa.com/nykdesignstudio-images/tr:w-550,/pub/media/catalog/product/1/4/146117301_1_7fcd0574.jpg?rnd=20200526195200",
        },
        {
            quantity: 1,
            brand: "Puma",
            name: "chil pill supersoft palysuit",
            price: 799,
            size: "M,L,XX,XXS",
            productID: "women3",
            catagory: "party",
            img: "https://adn-static1.nykaa.com/nykdesignstudio-images/tr:w-550,/pub/media/catalog/product/a/c/achwsivc466_1_a6c9da54.jpg?rnd=20200526195200",
        },
        {
            quantity: 1,
            brand: "Gap",
            name: "plus size womens",
            price: 2000,
            size: "X,M,L,XXS,XXL",
            productID: "women4",
            catagory: "formal",
            img: "https://adn-static1.nykaa.com/nykdesignstudio-images/tr:w-550,/pub/media/catalog/product/i/n/ind158-pnk_1_3dc181e4.jpg?rnd=20200526195200",
        },
        {
            quantity: 1,
            brand: "Bady Moo",
            name: "balck bella",
            price: 1347,
            size: "X,M,L",
            productID: "women5",
            catagory: "workout",
            img: "https://adn-static1.nykaa.com/nykdesignstudio-images/tr:w-550,/pub/media/catalog/product/p/h/pheeta-pht0067_1_96256fbd.jpg?rnd=20200526195200",
        },
        {
            quantity: 1,
            brand: "Pepe jeans",
            name: "plus size womens",
            price: 979,
            size: "XXS,M,L",
            productID: "women6",
            catagory: "travel",
            img: "https://adn-static1.nykaa.com/nykdesignstudio-images/tr:w-550,/pub/media/catalog/product/o/_/o_228327501_1_857abfa6.jpg?rnd=20200526195200",
        },
        {
            quantity: 1,
            brand: "Puma",
            name: "chil pill supersoft palysuit",
            price: 2000,
            size: "XXL,M,L",
            productID: "women7",
            catagory: "sports",
            img: "https://adn-static1.nykaa.com/nykdesignstudio-images/tr:w-550,/pub/media/catalog/product/t/w/twentydressesmix_dr0769_1_90caf4b3.jpg?rnd=20200526195200",
        }
    ]

    let producont = document.getElementById("products")
    let cartLS = JSON.parse(localStorage.getItem("cart_page")) || [];

    function Displaydata(produdata) {
        produdata.forEach(function (ele) {
            ele.totalPrice = ele.price * ele.quantity;
            let product = document.createElement("div")
            let img = document.createElement("img")
            img.src = ele.img
            let name = document.createElement("h3")
            name.innerText = ele.name
            let catagory = document.createElement("p")
            catagory.innerText = ele.catagory
            let addtocart = document.createElement("button")
            addtocart.innerText = "Add To Cart"
            addtocart.addEventListener("click", function () {
                if (Addtocartfun(ele.productID) === true) {
                    alert("Added")

                    cartLS.push(ele)
                    localStorage.setItem("cart_page", JSON.stringify(cartLS))
                } else {
                    alert("Already there")
                };
            })


            product.append(img, name, catagory, addtocart)
            producont.append(product)
        })
    }
    Displaydata(produdata);
    function Addtocartfun(id) {
        for (let i = 0; i < cartLS.length; i++) {
            if (cartLS[i].productID === id) {
                return false
            }
        }
        return true
    }
</script>